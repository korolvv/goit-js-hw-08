{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,eAAMC,EAAOC,SAASC,cAAc,kBAMpC,IAAIC,EAAc,GAElBC,OAAOC,iBAAiB,oBAAoB,KAC1C,IAEE,IADaC,aAAaC,QANN,uBAOT,OACXJ,EAAcK,KAAKC,QACnBC,OAAOC,QAAQR,GAAaS,SAAQ,EAAEC,EAAKC,MACzCd,EAAKe,SAASF,GAAKC,MAAQA,CAAK,G,CAElC,MAAOE,GACPC,QAAQC,IAAIF,EAAMG,Q,KAQtBnB,EAAKK,iBACH,QACAe,EAAAtB,EAAA,EAASuB,IACPlB,EAAYkB,EAAEC,OAAOC,MAAQF,EAAEC,OAAOR,MANxCR,aAAakB,QAlBS,sBAkBgBhB,KAAKiB,UAAUtB,GAOvC,GACX,MAGLH,EAAKK,iBAAiB,UAAUgB,IAC9BA,EAAEK,iBAEFT,QAAQC,IAAIf,GACZA,EAAc,GACdkB,EAAEC,OAAOK,QACTrB,aAAasB,WAnCS,sBAmCkB","sources":["src/js/03-feedback.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\n\nimport throttle from 'lodash.throttle';\n\nconst formSaveStorage = 'feedback-form-state';\n\nlet textStorage = {};\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  try {\n    const data = localStorage.getItem(formSaveStorage);\n    if (!data) return;\n    textStorage = JSON.parse();\n    Object.entries(textStorage).forEach(([key, value]) => {\n      form.elements[key].value = value;\n    });\n  } catch (error) {\n    console.log(error.message);\n  }\n});\n\nfunction setStorage() {\n  localStorage.setItem(formSaveStorage, JSON.stringify(textStorage));\n}\n\nform.addEventListener(\n  'input',\n  throttle(e => {\n    textStorage[e.target.name] = e.target.value;\n    setStorage();\n  }, 500)\n);\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  console.log(textStorage);\n  textStorage = {};\n  e.target.reset();\n  localStorage.removeItem(formSaveStorage);\n});\n"],"names":["$9OeKo","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$textStorage","window","addEventListener","localStorage","getItem","JSON","parse","Object","entries","forEach","key","value","elements","error","console","log","message","$parcel$interopDefault","e","target","name","setItem","stringify","preventDefault","reset","removeItem"],"version":3,"file":"03-feedback.99709526.js.map"}